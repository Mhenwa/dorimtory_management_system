# 数据处理分析

## 一、数据的增删查改需求

### （一）学生信息数据
1. **增加数据**：
    当有新生入学时，需要向学生信息表中添加学生的各项信息。例如，在开学季，管理人员会根据新生报到的情况，批量录入新生的信息，并为其设置初始密码。
2. **删除数据**：
    - 当学生退学或毕业时，需要将其信息从学生信息表中删除。
3. **查询数据**：
    - 管理人员可能需要经常查询学生信息，以便进行宿舍分配、管理等工作。例如，管理人员可以根据学生的学号、姓名、专业、班级等条件进行查询，快速找到特定学生的信息。每天可能会进行多次这样的查询操作，具体次数取决于学校的规模和管理需求，一般来说，每天可能会有几十次甚至上百次的查询操作。
    - 学生也可以登录系统查询自己的信息，如查看个人照片、联系方式是否正确等。
4. **修改数据**：
    - 当学生的个人信息发生变化时，需要对学生信息表中的数据进行修改。例如，学生更换手机号码、电子邮箱等联系方式时，可以自行登录系统进行修改；若学生转专业、升年级等情况发生时，管理人员需要对其专业、年级等信息进行修改。
### （一）学生信息表
1. **列级约束**：
    - ID：设置为主键，确保学生的唯一标识符不重复。
    - 学号：设置为唯一约束，确保每个学生的学号唯一。
    - 密码：设置长度和格式约束，确保密码符合安全要求。
    - 姓名：设置长度和字符集约束，确保姓名的输入规范。
    - 性别：设置为枚举类型，只能是男或女。
    - 年级：设置为特定的取值范围，确保年级输入正确。
    - 专业：设置长度和字符集约束，确保专业名称的输入规范。
    - 班级：设置长度和字符集约束，确保班级编号或名称的输入规范。
    - 手机号码：设置长度和格式约束，确保手机号码为 11 位数字。
    - 电子邮箱：设置格式约束，确保电子邮箱地址符合规范。
2. **记录级约束**：
    - 确保学生的信息完整，不能存在必填项为空的情况。
3. **表间约束**：
    - 与床位安排表通过学号进行关联，确保学生信息与床位信息的一致性。
    - 与费用信息表通过学号进行关联，确保学生信息与费用信息的一致性。
4. **触发器**：
    - 当学生信息被删除时，自动删除与该学生相关的床位安排信息和费用信息。

### （二）床位安排数据
1. **增加数据**：
    - 当有新生入学或学生调整宿舍时，需要为其分配床位，并在床位安排表中添加相应的信息。
2. **删除数据**：
    - 当学生退学或毕业时，需要将其床位信息从床位安排表中删除。
3. **查询数据**：
    - 管理人员需要查询床位安排情况，以便进行宿舍管理和调整。例如，管理人员可以查询某个宿舍的床位使用情况，了解哪些床位已被占用，哪些床位空闲。每天可能会进行多次这样的查询操作，具体次数取决于学校的宿舍管理工作的频繁程度，一般来说，每天可能会有几十次的查询操作。
    - 学生在申请床位调整时，也需要查询床位安排情况，以便选择合适的床位。
4. **修改数据**：
    - 当学生申请床位调整时，管理人员需要对床位安排表中的信息进行修改。例如，当学生从一个宿舍调整到另一个宿舍时，管理人员需要修改其床位号、房间号等信息，并将是否审核设置为待审核状态。

### （二）床位安排表
1. **列级约束**：
    - ID：设置为主键，确保床位的唯一标识符不重复。
    - 编号：设置为唯一约束，确保每个床位的编号唯一。
    - 房间号：设置长度和格式约束，确保房间号的输入规范。
    - 床位号：设置长度和格式约束，确保床位号的输入规范。
    - 学号：设置为外键，关联学生信息表中的学号，确保床位分配给正确的学生。
    - 性别：设置为枚举类型，只能是男或女。
    - 是否审核：设置为布尔类型，确保审核状态的取值正确。
2. **记录级约束**：
    - 确保床位信息完整，不能存在必填项为空的情况。
3. **表间约束**：
    - 与学生信息表通过学号进行关联，确保床位信息与学生信息的一致性。
4. **触发器**：
    - 当床位信息被修改时，自动更新与该床位相关的学生信息表中的床位号和房间号。

### （三）管理人员信息数据
1. **增加数据**：
    - 当学校招聘新的管理人员时，需要将其信息添加到管理人员信息表中。
2. **删除数据**：
    - 当管理人员离职时，需要将其信息从管理人员信息表中删除。但在删除前，需要确保该管理人员没有未完成的工作任务。
3. **查询数据**：
    - 其他管理人员可能需要查询同事的联系方式等信息，以便进行工作沟通和协作。例如，在需要与某个管理人员联系时，可以通过查询管理人员信息表，找到其联系方式。查询操作的频次相对较低，可能每周只有几次。
4. **修改数据**：
    - 当管理人员的个人信息发生变化时，需要对管理人员信息表中的数据进行修改。例如，管理人员更换手机号码、电子邮箱等联系方式时，可以自行登录系统进行修改。

### （三）管理人员信息表
1. **列级约束**：
    - ID：设置为主键，确保管理人员的唯一标识符不重复。
    - 工号：设置为唯一约束，确保每个管理人员的工号唯一。
    - 密码：设置长度和格式约束，确保密码符合安全要求。
    - 姓名：设置长度和字符集约束，确保姓名的输入规范。
    - 性别：设置为枚举类型，只能是男或女。
    - 联系方式：设置长度和格式约束，确保联系电话的输入规范。
    - 邮箱：设置格式约束，确保电子邮箱地址符合规范。
2. **记录级约束**：
    - 确保管理人员的信息完整，不能存在必填项为空的情况。
3. **表间约束**：
    - 无特定表间约束。
4. **触发器**：
    - 当管理人员信息被删除时，自动将与该管理人员相关的操作记录进行归档。

### （四）费用信息数据
1. **增加数据**：
    - 学校在确定学生的住宿费用标准后，需要将费用信息添加到费用信息表中。例如，在每学期开学前，学校会根据学生的住宿类型和标准，确定每个学生的住宿费用。
2. **删除数据**：
    - 如果出现错误录入等特殊情况，可以在核实后进行删除操作。删除操作的频次非常低，可能几个月才会出现一次。
3. **查询数据**：
    - 学生需要查询自己的费用信息，以便及时缴纳住宿费用。查询操作的频次低，每年只会进行一两次，但学生会在某段时间内集中查询
    - 管理人员也需要查询费用信息，以便进行费用管理和统计。例如，管理人员可以查询某个时间段内的费用缴纳情况，了解哪些学生已缴费，哪些学生未缴费。频次也相对较低，每年只会进行一两次。
4. **修改数据**：
    - 如果学生的住宿费用发生变化，需要对费用信息表中的数据进行修改。例如，学生因特殊情况需要调整住宿费用时，管理人员会在核实后修改其住宿费用信息。修改操作的频次较低，可能一个学期只有几次。

### （四）费用信息表
1. **列级约束**：
    - ID：设置为主键，确保费用信息的唯一标识符不重复。
    - 编号：设置为唯一约束，确保每个费用的编号唯一。
    - 学号：设置为外键，关联学生信息表中的学号，确保费用信息与学生信息的一致性。
    - 姓名：设置长度和字符集约束，确保姓名的输入规范。
    - 住宿费用：设置为数值类型，确保费用的输入正确。
    - 发布时间：设置为日期时间类型，确保发布时间的输入规范。
    - 缴费日期：设置为日期时间类型，确保缴费日期的输入规范。
2. **记录级约束**：
    - 确保费用信息完整，不能存在必填项为空的情况。
3. **表间约束**：
    - 与学生信息表通过学号进行关联，确保费用信息与学生信息的一致性。
4. **触发器**：
    - 当学生缴费后，自动更新缴费日期。

通过以上数据处理分析，可以实现学生宿舍管理系统的数据完整性控制，确保系统的稳定运行和数据的准确性。同时，根据不同用户对数据的操作需求，可以合理安排系统的资源和性能，提高系统的使用效率。